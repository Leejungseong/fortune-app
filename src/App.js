import React, { useState } from "react";
import "./App.css";
import confetti from "canvas-confetti";
import cookieIcon from "./cookie.png";

const fortunes = {
  전체: [
    "오늘은 멋진 하루가 될 거예요!",
    "기분 좋은 소식이 찾아올 거예요.",
    "작은 선택이 큰 변화를 가져올 거예요.",
    "기다리던 소식이 들려옵니다.",
    "행운이 당신을 향해 달려오고 있어요.",
    "오늘은 나에게 집중해 보세요.",
    "뜻밖의 기회가 생길 수 있어요.",
    "주변 사람들과의 소통이 중요해요.",
    "마음먹은 대로 이루어집니다.",
    "좋은 인연이 찾아올 거예요.",
    "기회는 준비된 자에게 옵니다.",
    "노력이 결실을 맺는 날이에요.",
    "새로운 도전이 행운을 불러올 거예요.",
    "긍정적인 생각이 행운을 이끌어요.",
    "당신의 미소가 오늘을 바꿔요.",
    "자신감을 가지세요. 모든 일이 잘 풀릴 거예요.",
    "오늘의 만남은 특별해요.",
    "마음이 시키는 대로 해보세요.",
    "웃음이 가득한 하루가 될 거예요.",
    "어제보다 더 나은 오늘이 기다리고 있어요."
  ],
  사랑: [
    "사랑이 코앞까지 다가왔어요!",
    "마음을 표현해보세요. 기회는 지금이에요.",
    "좋은 인연이 찾아옵니다.",
    "서로를 이해하는 대화가 필요해요.",
    "기대하지 않았던 사람이 당신을 생각하고 있어요.",
    "소중한 사람에게 먼저 연락해보세요.",
    "사랑은 작은 관심에서 시작돼요.",
    "오늘 고백하면 좋은 결과가 있어요.",
    "서로에게 솔직해지는 날이에요.",
    "좋은 감정은 행동으로 보여주세요.",
    "사랑은 기다림 끝에 피어납니다.",
    "좋아하는 사람과의 교감이 깊어져요.",
    "뜻밖의 만남이 설렘을 가져옵니다.",
    "서로의 차이를 인정하면 가까워져요.",
    "이해하려는 마음이 필요해요.",
    "그 사람도 당신을 궁금해하고 있어요.",
    "오늘은 함께 있기 좋은 날이에요.",
    "따뜻한 말 한마디가 사랑을 키워요.",
    "용기 있는 표현이 관계를 바꿔요.",
    "자신의 감정을 존중하세요."
  ],
  직장: [
    "업무에 집중하면 좋은 결과가 있어요.",
    "새로운 기회가 다가오고 있어요.",
    "직장 내 좋은 소식이 들려와요.",
    "팀워크가 중요한 하루입니다.",
    "성실함이 인정받는 날이에요.",
    "작은 실수가 큰 배움이 됩니다.",
    "상사의 신뢰를 얻을 수 있어요.",
    "도전적인 과제가 당신을 기다리고 있어요.",
    "일이 술술 풀리는 날이에요.",
    "동료와의 관계에 신경 써보세요.",
    "당신의 아이디어가 주목받아요.",
    "기대하지 않았던 칭찬을 받게 될 거예요.",
    "노력이 빛을 발하는 순간이에요.",
    "자신감을 갖고 의견을 표현하세요.",
    "긍정적인 자세가 기회를 만듭니다.",
    "새로운 프로젝트에 참여해 보세요.",
    "지금은 배움에 집중할 때입니다.",
    "더 나은 방향으로 변화가 시작돼요.",
    "생산성이 높아지는 하루예요.",
    "당신의 성장이 느껴지는 날입니다."
  ],
  건강: [
    "가벼운 운동이 건강에 도움을 줍니다.",
    "컨디션이 좋아지는 날이에요.",
    "오늘은 충분한 휴식이 필요해요.",
    "몸에 좋은 음식을 챙겨드세요.",
    "산책이 기분 전환에 좋아요.",
    "수면 시간을 늘려보세요.",
    "스트레스를 관리하면 활력이 생겨요.",
    "긍정적인 마음이 건강을 지켜줘요.",
    "자기 자신을 위한 시간을 가지세요.",
    "몸의 신호에 귀 기울여야 해요.",
    "물을 자주 마시면 좋습니다.",
    "규칙적인 생활이 중요해요.",
    "긴장을 풀고 여유를 가지세요.",
    "목과 허리에 무리가 가지 않도록 조심하세요.",
    "가벼운 스트레칭이 필요해요.",
    "햇빛을 쬐며 기지개를 켜보세요.",
    "건강한 식습관이 필요해요.",
    "몸과 마음을 함께 돌보세요.",
    "아침 식사를 챙겨드세요.",
    "과로하지 마세요. 쉬어가는 것도 중요해요."
  ],
  재물: [
    "작은 금전운이 찾아옵니다.",
    "지출을 잘 관리하면 여유가 생겨요.",
    "예상치 못한 수입이 있을 수 있어요.",
    "오늘은 투자보다는 절약이 중요해요.",
    "새로운 기회가 재물운을 끌어옵니다.",
    "금전적인 계획을 세우기 좋은 날이에요.",
    "소비를 조심하세요. 유혹이 많아요.",
    "절약이 곧 수익입니다.",
    "작은 돈이라도 소중히 여겨야 해요.",
    "좋은 제안이 들어올 수 있어요.",
    "계획적인 소비가 필요해요.",
    "생각지 못한 곳에서 돈이 나갈 수 있어요.",
    "수입보다 지출을 먼저 확인하세요.",
    "기회는 기다리는 자에게 옵니다.",
    "실속 있는 소비가 이득을 줍니다.",
    "돈보다 신뢰가 더 중요할 수 있어요.",
    "오늘은 지갑을 열기 좋은 날이에요.",
    "금전적 조언을 구해보세요.",
    "돈에 대한 감사함을 표현해보세요.",
    "알뜰한 하루가 예상됩니다."
  ]
};

function App() {
  const [category, setCategory] = useState("전체");
  const [message, setMessage] = useState("");
  const [showPopup, setShowPopup] = useState(false);

  const handleClick = () => {
    const selectedFortunes = fortunes[category];
    const randomIndex = Math.floor(Math.random() * selectedFortunes.length);
    const selectedMessage = selectedFortunes[randomIndex];
    setMessage(selectedMessage);
    setShowPopup(true);
    confetti({ particleCount: 150, spread: 80, origin: { y: 0.6 } });
  };

  const closePopup = () => setShowPopup(false);

  return (
    <div className="App">
      <img src={cookieIcon} alt="cookie" style={{ width: "50px" }} />
      <h1>오늘의 포춘쿠키 🍪</h1>
      <div className="categories">
        {Object.keys(fortunes).map((cat) => (
          <button
            key={cat}
            className={category === cat ? "selected" : ""}
            onClick={() => setCategory(cat)}
          >
            {cat}
          </button>
        ))}
      </div>
      <button className="fortune-btn" onClick={handleClick}>운세 보기</button>

      {showPopup && (
        <div className="popup" onClick={closePopup}>
          <div className="popup-content">
            <p>{message}</p>
          </div>
        </div>
      )}
    </div>
  );
}

export default App;